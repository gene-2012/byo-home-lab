# Build Your Own Home-LAB Part 2 Div 2. Soft Routing

> 在上一 Div 中，我们初步了解了计算机网络结构，并引入了软路由的概念，本章中，我们将围绕 OpenWRT 的衍生版本——iStoreOS 搭建一个切实可用的软路由系统。

---

## 0x01 💡什么是 OpenWRT 项目？

![](/image/P2D2_1_OpenWrt_Logo.svg)

OpenWrt 项目是一个面向嵌入式设备的 Linux 操作系统。与传统路由器的“固件烧录完就只能认命”不同，OpenWrt 提供了一个完全**可写**的文件系统和完善的软件包管理功能，简直就是“路由器中的 Arch Linux”。

你可以把 OpenWrt 想象成一台可以自由扩展插件的变形金刚，不仅能当路由器，还能跑 DNS、广告屏蔽、VPN、Docker……甚至还能跑 Minecraft（虽然我不推荐 😅）。这种灵活性，让它成为了许多极客和网络爱好者的最爱。

它本身是一个社区驱动的开源项目，支持各种路由器和 SBC（单板机），有时候你会在极客论坛、矿渣群、黑群晖教程里频繁看到它的名字。

当然可以，下面是对你提供的 **0x02 设备选择** 段落的重写版本，语气依然保持严谨技术风格中带点轻松，细节更为清晰和流畅，逻辑稍作整理：

---

## 0x02 设备选择

搭建软路由系统的第一步，不是下载系统，也不是写入镜像，而是选择一台合适的设备。在功能性和实用性之间取得平衡，才能构建出真正稳定高效的家庭网络核心。这部分内容你可以参考本系列的第一篇文章 [《Introduction & Hard Ware》](P1_Introduction_Hard_Ware.md#0x02-02-如何购买适合自己的-home-lab)。通常，我们选择软路由设备有一下几个因素。

### 以太网接口数量：不求多，但要刚好

作为一台路由器，**最基础的要求就是至少具备两个以太网接口**：

* 一个作为 **WAN 接口**，连接上级光猫；
* 一个作为 **LAN 接口**，连接家庭内网。

听起来简单，但实际中有些细节值得注意：

* **接口不要太多**。有些工控机带 4～6 个 RJ45 接口，看起来很香，实际上反而可能带来问题：网口越多，流量同时汇入 CPU 的中断和网络芯片的负载越高，反而会降低系统稳定性。
* 最推荐的方案是：**一个 LAN 接口接入交换机**，交换机再将网络分发至各终端，既节省资源又利于网络结构清晰。
* 如果你希望软路由兼具 AP 功能，也可以选用带有无线网卡（支持 AP 模式）的设备。但请注意，不是所有无线网卡都适合做无线热点，推荐优先考虑 Intel 或 Atheros 芯片的卡。


### 电力需求：低功耗是王道

软路由作为家庭网络的中枢，需要 **7×24 小时运行**。因此，能效比（性能/功耗）是非常关键的指标。

* **ARM 架构设备**（如树莓派、NanoPi R5S 等）通常是低功耗设备中的佼佼者，能做到稳定运行同时维持个位数瓦数的功耗。
* 如果你更偏向 x86 架构（比如用旧笔记本、N100 工控机），也建议选择 **低功耗版本的 CPU**，如 Intel J1900、N5105、N100 等。

这不仅能降低电费账单，还能让设备发热更小、寿命更长。

---

### 体积：考虑你的弱电箱

最后一个容易被忽视的点：**体积**。

很多家庭的网络设备都被集中收纳在一个狭小的弱电箱中，如果你的设备像个台式机主机箱一样庞大，那它注定无法进入这片狭小的天地。

因此，优先考虑：

* **Mini-PC、工控机**：体积小巧，接口丰富，适合固定安装；
* **板卡类设备（如树莓派、NanoPi）**：小到可以藏在交换机后面，用双面胶贴墙都行。

在保证散热的前提下，小体积往往意味着更容易部署和维护。