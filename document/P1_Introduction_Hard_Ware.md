# Build Your Own Home-LAB Part 1. Introduction & Hard Ware

## 0x01 什么是 Home-LAB？

> Home Lab（家用实验室）是指个人或小型团队在自家环境中搭建的实验性计算环境，通常用于学习、实验、开发和测试各种技术、工具和服务。其历史可以追溯到计算机和网络技术的发展以来。

![](/image/P1_1_homelab.jpeg)

近年来，随着 CPU、内存、硬盘及网络的性能提升，Home Lab 越来越被大家所接受。你可能见到过，有些人会把博客部署到自己家里的某台 PC 上，或者是购买专门的 NAS，运行爬虫、下载等等任务……还有一些玩家，选择安装虚拟化系统，将所有自己所需的服务集成到虚拟机中。同时，另外一个十分经典的用法是将 Home Lab 设备安装 OpenWRT 这样的软路由系统，实现虚拟组网、魔法等额外功能。这些都是 Home Lab 的应用场景。

简单来说，你可以将 Home Lab 理解为一个没有显示器，$7 \times 24$ 运行的特殊 PC。

## 0x02 如何正确选择 Home-LAB 设备

Home Lab 可以很大，大到一个几 U 的机架式服务器集群；Home Lab 也可以很小，小到一台废旧的 Android 手机或者一块 ARM 开发板。Home Lab 的价格区间也十分宽泛，从专业级设备动辄几千上万，到电视盒子 $\text{￥} 50$ 提货，性能、体积、功耗、用途上都有很大差别。如何正确选择适合自己的 Home Lab 设备就显得尤为重要。

## 0x02-01 Home-LAB 的组成

一个成熟的 Home Lab 通常由网络、存储、电力、计算设备和内存构成。

### $\text{I}$ 网络

![](/image/P1_2_network.png)

> 上面是一个理想的网络拓扑图

通常而言，根据需求不同，Home Lab 会选择不同的网络解决方案：

- **超高网络带宽需求**（如 NAS，搭配高性能 SSD 可以轻松突破 2.5 Gbps）：建议搭配光纤以太网。虽然对于预算有限的用户来说可能遥不可及，但在资金充足的情况下是最佳选择。
- **一般网络需求**：可以考虑电口以太网。
- **无线网络**：如果家中没有布设网线，WLAN 也可以作为后备选择。

### $\text{II}$ 存储

存储同样需要根据自己的需求，理性配置。

- **NAS 存储**：
  - 建议购买单盘大容量的硬盘至少两块，组成 RAID 阵列提高数据安全性。以 RAID 1 为例，仅需两块硬盘，即便其中一块损坏，数据也不会丢失。不过，这种配置会将可用存储空间减半。
  - 在量大管饱的机械硬盘基础上，至少应当购买一块 NVMe 或 M.2 接口的 SSD 作为系统盘，保证操作系统运行的流畅性。
  - **提示**：存储不规范，恢复两行泪。

- **计算用途**：
  - 可以考虑更大的 SSD 和一块稍小的机械硬盘，但最好不小于 1TB。

### $\text{III}$ 电力

很多人觉得，Home Lab 作为一台电脑，耗电量肯定不小。事实上，这个说法有些绝对，但功耗也确实是配置 Home Lab 的重要参考。

- **电源选择**：在购买电源时最好留出 $100$ ~ $200 \text W$ 的冗余，方便后期添加设备（如 GPU）。
- **UPS 电源**：如果所在地区的电力不大稳定，建议购买一台 UPS，保证停电瞬间电力稳定，留足时间让 Home Lab 正常关闭。中到高端产品价格大概在 200 RMB 左右。

> **血的教训**：存储不规范，恢复两行泪

### $\text{IV}$ 计算

计算模块，也就是 Home Lab 的 CPU，是选购 Home Lab 过程中需要重点考虑的部分。

- **低访问量任务**（如低访问量的 Web 服务、挂挂下载）：
  - 选择低功耗、低发热的瘦客户机 CPU，如 Intel Atom 或 Celeron 系列。这类 CPU 性能和功耗都十分优秀，价格也相对较低，非常适合新手。
  - **提示**：可以尝试一些性价比高的 CPU，如 Intel N100 或 N150。

- **复杂任务**（如搭建 Minecraft 服务器）：
  - 考虑购买单核性能更强的 CPU，虽然功耗较高、发热更大，但为性能带来了质的飞跃。

- **高性能需求**：
  - 使用服务器 CPU 也不是不可以。通常，服务器 CPU 的核心数可以达到 50 核心，在这类 CPU 上运行多线程爬虫，宛如开挂般顺滑。

### $\text{V}$ 内存

内存是 Home Lab 性能的重要组成部分，选择合适的内存可以显著提升系统的运行效率。

- **容量选择**：
  - 对于低访问量任务，如简单的 Web 服务或文件共享，4GB 或 8GB 的内存通常已经足够。
  - 对于复杂任务，如运行多个虚拟机或进行数据密集型计算，建议选择 16GB 或更高容量的内存。
  - 对于高性能需求，如搭建大型数据库或运行高负载应用，32GB 或更高容量的内存是更好的选择。

- **类型选择**：
  - **DDR4 vs DDR5**：目前市场上主流的内存类型是 DDR4 和 DDR5。DDR5 提供更高的频率和更低的功耗，但价格相对较高。根据预算和主板支持情况选择合适的类型。
  - **频率选择**：选择与主板兼容的最高频率内存，可以提升系统的整体性能。例如，如果主板支持 DDR4-3200，选择 DDR4-3200 或更高的内存会更好。

- **品牌选择**：
  - 建议选择知名品牌的内存条，如 Kingston、Crucial、Corsair 等，这些品牌的产品质量可靠，兼容性好。

最后，在购买时如果没有足够经验，请尽量避免购买 OEM 内存条，部分 OEM 条真假难辨，存在潜在风险。

## 0x02-02 如何购买适合自己的 Home-LAB

如果你是一个装机老鸟，那么相信你大概率会选择自行购买一切配件，从零组装。不过，许多读者并没有这样的能力。所以，多数情况下，更加推荐购买准系统，自行配置内存、硬盘和 CPU。如果你有安装少量配件的能力，尽量不要购买整机。受限于篇幅，本文只介绍如何选购准系统进行配置。

接下来，将介绍一些价格能够被广大 OIer 接受的成品或准系统 Home Lab，价格在 200 ~ 1500 之间。

### 准系统 / 整机

#### ARM / RISC-V 设备

ARM 或 RISC-V 架构芯片具有低发热、低功耗的特点，被广泛应用于边缘计算和嵌入式设计。同样，这样的芯片也很适合作为 Home Lab 使用。常见的 ARM 开发板有 Raspberry Pi（树莓派）系列、Orange Pi（香橙派系列）等……

相信各位 OIer 们一定或多或少听说过树莓派，本节将简要介绍 Raspberry Pi 设备的参数和优劣。

![](/image/P1_3_raspberryPi.webp)

##### 优势

- **体积小巧**：信用卡大小的体积让它可以无感存在于任何地方，包括弱电箱。
- **价格便宜**：作为一台入门级计算机，仅需 $\text ￥ 500$ 上下就可以获得一台 $8 \text{GB}\ \text{RAM}$ 的树莓派电脑。
- **可扩展性强**：与传统 PC 的 PCIE 相似，市面上依托于树莓派的 HAT 标准，出现了许多扩展版，甚至可以接入 FPGA。同时，如果你的能力够强，树莓派自带的 GPIO 也可以玩出花。
- **生态支持好**：树莓派有活跃的官方玩家社区，同时第三方软件生态也非常完善。在 $2025$ 年 $3$ 月，第 $155$ 期 _The MagPi_ 杂志正式官宣被收编，改名为[《树莓派官方杂志》（_Raspberry Pi Official Magazine_）](https://magazine.raspberrypi.com/)。

##### 缺陷

- **算力较低**：作为一台以计算机基本操作教学为初衷的单板计算机，树莓派的算力并不强悍，但基本够用。

综上，树莓派确实是一个作为 Home Lab 的合适的选择。

![](/image/P1_4_raspberryPiModel.jpg)

#### X86（及 X64）面向消费者的小体积设备

如果您的设备并不需要多大的存储空间，那么可以考虑小主机这类产品。多数情况下，小主机具有较高的性能与较小的体积，非常适合用作 Home Lab 的基础设施。以下是一些适合的产品类型和它们的优缺点。

##### 优势

- **性能强劲**：相较于 ARM 设备，X86 架构通常提供更强大的计算能力，适合运行更复杂的服务和应用。
- **驱动支持好**：X86 设备的操作系统和软件兼容性通常更高，特别是在 Windows 和 Linux 系统下。同时，许多新兴的操作系统（如 [飞牛 NAS](https://www.fnnas.com/)）对 X86 设备的支持也更完善。
- **扩展性**：许多小主机提供了更多的扩展槽和接口，可以安装额外的硬盘和内存，以满足不断增长的需求。

##### 缺陷

- **功耗较高**：与 ARM 设备相比，X86 设备通常功耗更高，可能会导致运营成本上升。
- **体积较大**：虽然小主机比传统 PC 体积小，但仍然比树莓派等单板计算机要大很多。
- **相对来说价格更高**：面向消费者的 X86 主机不会比 Laptop 便宜多少，但这同样也意味着性能上的大幅提升。如果您能够负担得起，那么强烈建议选择这类设备（从根源解决算力不足问题）。

#### X86（及 X64）面向工业控制的设备

![](/image/P1_5_industrialControl.jpeg)

工业控制设备，简称工控机，作为工业生产中的大脑，具有稳定性高、低功耗的特点。它们在自动化生产、设备监控和数据采集等方面发挥着至关重要的作用。以下是有关 X86（及 X64）工控机的一些主要特点和应用场景。

##### 优势

- **高稳定性**：工控机通常基于工业级别的组件设计，具备抗震动、抗电磁干扰等特性，能够在恶劣环境下可靠运行。这使得它们非常适合在工厂、矿山和其他工业场所使用，对于家庭环境，更是显得游刃有余。
- **低功耗**：许多工控机采用低功耗设计，能够在节能的同时满足高性能需求。这对于需要长时间运行的设备尤为重要，可以显著降低电力成本。
- **灵活的配置**：X86 工控机通常支持多种扩展卡和模块，用户可以根据具体应用需求选择合适的配置，保障系统的灵活性和适应性。
- **丰富的接口**：工控机配备多种接口，如串口、USB、以太网、GPIO 等，便于与各种传感器、执行器和其他控制设备连接。

##### 缺陷

- **算力一般**：作为一款性能介于树莓派和消费级 X86 之间的产品，许多高性价比的工控机会采用 Cell（aka 赛扬） CPU。

#### X86（及 X64）面向商业机构的设备

许多商业机构和公司会选择购买品牌机来办公，这就使得二手市场上出现了许多二手的商业设备，准系统一般售价在 $\text ￥500$ 左右。

在二手市场上，许多知名品牌的 SFF（Small Form Factor）设备可供选择，这些设备不仅性能稳定，而且价格合理，非常适合小型企业和个人用户。以下是一些推荐的设备，准系统价格通常在 $\text￥200$ 至 $\text ￥500$ 之间。

![](/image/P1_6_dellSFF.avif)

##### 1. **Dell OptiPlex SFF 系列**

- **型号推荐**：Dell OptiPlex 3020 SFF / 5040 SFF
- **特点**：
  - 采用 Intel Core i3/i5/i7 处理器，性能稳定。
  - 提供丰富的 USB 接口，便于连接外设。
  - 支持多种内存扩展和硬盘更换，便于升级。
  - 体积小巧，平放高度大约 2U。

##### 2. **HP ProDesk SFF 系列**

- **型号推荐**：HP ProDesk 400 G1 SFF / 600 G1 SFF
- **特点**：
  - 同样配备 Intel Core i3/i5/i7 处理器，可靠性高。
  - 设计简洁，易于维护和升级。
  - 具备良好的散热性能，适合长时间运行。

##### 3. **Lenovo ThinkCentre SFF 系列**

- **型号推荐**：ThinkCentre M83 SFF / M92p SFF
- **特点**：
  - 维护成本低廉，配件购买方便。
  - 内部空间优化，支持扩展和升级。
  - 噪音低，适合安静的办公环境。

上述推荐的 Dell OptiPlex、HP ProDesk 和 Lenovo ThinkCentre SFF 系列设备在二手市场上都具有较高的性价比，适合预算有限的商业机构和个人用户。它们提供稳定的性能和灵活的扩展性，能够满足日常办公需求。在选择时，请根据具体需求、预算和品牌偏好进行综合评估。

#### 其他特殊设计的设备

在市面上，还有许多专门为 Home Lab 所设计的硬件，它们往往能够更好胜任这一任务。

非常推荐购买 HP(E) MicroServer 系列，尤其是 Gen 8 和 Gen 10 plus 作为 Home Lab。它具有高稳定性、高颜值的特点，有四个非热插拔盘位，可选配 iLo 卡（IPMI 远程管理）。本文头图中绿色发光设备就是 MicroServer。

现如今，一个全新的 MicroServer Gen 8 在某电商平台上仅售 1899，附带一块 1TB 硬盘。

### 硬盘

作为宝贵数据的载体，一块好的硬盘再重要不过了，毕竟，谁都不想为了恢复数据挠破了头。Home Lab 的硬盘存储分为两部分：SSD 和 HDD。

- **SSD**：
  - 推荐选购一块 NVMe 的 SSD 作为系统盘，国产长江存储颗粒的价格低得惊人（PCIE 3.0 128GB 大概 80R）。如果主板上没有 NVMe 接口，可以购买一个 PCIE 转 NVMe 适配器，价格也不高。
  - 如果资金短缺，可以退而求其次，购买 SATA SSD（仅需 40R），但速度会慢一些。

- **HDD**：
  - 强烈建议购买正规大厂的机械硬盘，有条件尽量不要买二手，以免买到矿盘等低质量硬盘。
  - 如果 Home Lab 选择 $7 \times 24$ 运行，建议选择西部数据红盘、希捷 Enterprise 或 Toshiba 的 NAS 硬盘，这些硬盘专门设计用于全天候通电的服务器和 NAS，稳定性更强。

在选购硬盘时，请务必查看硬盘的存储技术：

- **转速**：最好购买 $7.2 \text k$ 转速的硬盘，而非 $5.4 \text k$ 转速的硬盘。
- **存储技术**：最好是购买氦气填充而非空气填充的硬盘。
- **缓存**：如果发现硬盘的缓存超大，那么很有可能是 SMR 叠瓦盘，存取效率极低。建议前往官网查询其采用的是 CMR（垂直盘）还是 SMR（叠瓦盘）。

![](/image/P1_7_wdHDD.png)

---

## 0x03 总结

通过上面的介绍，希望大家能够认识 Home Lab，并为自己购置获得一些参考。在下一篇，我们将了解计算机网络的原理，以及如何依托与软路由，搭建一个高可用的网络。

$\text{To Be Continued\dots}$